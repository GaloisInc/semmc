{% extends "main/site.html" %}

{% block nav %}
<a href="/">Fuzzermon</a>
  &raquo; <span class="mono"><a href="/arch/{{ opcode.arch.id }}/">{{ opcode.arch.name }}</a></span>
  &raquo; <span class="mono"><a href="/opcode/{{ opcode.id }}/">{{ opcode.name }}</a></span>
{% endblock %}

{% block body %}
<h1>Test Failures for <span class="mono">{{ opcode.name }}</span></h1>

<table>
    <tr>
        <th rowspan="2">Instruction</th>
        <th colspan="2">State Mismatches</th>
    </tr>
    <tr>
        <th>Location</th>
        <th>(S)emantics vs. (H)ardware</th>
    </tr>
    {% for failure in failures %}
    <tr>
        <td valign="top">
            <div>
                <span class="mono">{{ failure.pretty }}</span>
            </div>
            <div>
                <span class="lighthost mono">{{ failure.batch.testing_host.hostname }}</span>
            </div>
        </td>
        {% for state in failure.testfailurestate_set.all %}
        <td><span class="mono">{{ state.location }}</span></td>
        <td>
            <div class="testValue">
                <span class="typeTag">S:</span>{{ state.expected_value }}
            </div>
            <div class="testValue">
                <span class="typeTag">H:</span>{{ state.actual_value }}
            </div>
        </td>
        {% endfor %}
    <tr>
    {% endfor %}
</table>
{% endblock %}
